'use client';

import Link from 'next/link';
import { useParams } from 'next/navigation';
import Navbar from '@/components/Navbar';
import Footer from '@/components/Footer';
import styles from './page.module.css';

const TRAINERS = {
  prosto: {
    title: 'Просто',
    lead:
      'Блок для быстрых и лёгких упражнений. Помогает разогреться перед серьёзной работой, закрепить базовые навыки устного счёта и почувствовать уверенность.',
    notes: [
      'Короткие серии примеров на сложение и вычитание',
      'Работа с маленькими числами без дополнительных правил',
      'Подходит для детей, которые только начинают знакомство с ментальной арифметикой',
    ],
    hasGame: true,
  },
  brothers: {
    title: 'Братья',
    lead:
      'Учим находить «братские» числа — пару, отличающуюся на единицу. Такой приём ускоряет вычисления и помогает удерживать несколько действий в голове.',
    notes: [
      'Ищем «братьев» среди соседних чисел',
      'Тренируем внимательность и переключение',
      'Подходит для отработки приёма сложных переходов через десяток',
    ],
    hasGame: true,
  },
  friends: {
    title: 'Друзья',
    lead:
      'Развиваем память на «дружественные» пары, которые суммарно дают круглое число. Это отличный инструмент для ментального сложения и вычитания.',
    notes: [
      'Подбираем пары, которые составляют 5, 10, 20 и другие базы',
      'Ускоряем устный счёт и закрепляем математическую интуицию',
      'Полезно для работы с большими столбиками чисел',
    ],
    hasGame: false,
  },
  'friend-brother': {
    title: 'Друг+брат',
    lead:
      'Комбинируем две стратегии: «друзей» и «братьев». В одном задании нужно и быстро подбирать пары, и мгновенно переключаться на соседние числа.',
    notes: [
      'Учимся чередовать разные арифметические приёмы',
      'Отрабатываем гибкость мышления и концентрацию',
      'Готовит к работе с более сложными ментальными схемами',
    ],
    hasGame: false,
  },
  'multiplication-table': {
    title: 'Таблица умножения',
    lead:
      'Закладываем фундамент — уверенное знание таблицы умножения. В тренажёре всё построено вокруг повторения фактов и мгновенного ответа.',
    notes: [
      'Режимы на время и без ограничений',
      'Разделение по уровням сложности',
      'Идеальная подготовка к следующим блокам умножения',
    ],
    hasGame: false,
  },
  multiplication: {
    title: 'Умножение',
    lead:
      'Практикуем перемножение двузначных и трёхзначных чисел в уме. Тренажёр подстраивается под скорость и усложняет задания постепенно.',
    notes: [
      'Фокус на точности и аккуратности вычислений',
      'Тренировки с отслеживанием ошибок',
      'Сценарии для самостоятельной работы и уроков',
    ],
    hasGame: false,
  },
  'multiplication-20': {
    title: 'Умножение до 20',
    lead:
      'Отдельный блок для быстрых ответов в пределах двадцати. Закрепляем ключевые комбинации и готовим ребёнка к более сложным операциям.',
    notes: [
      'Особое внимание — числам 11–19',
      'Задания на время и сериализация примеров',
      'Хорошо сочетается с блоками «Просто» и «Друзья»',
    ],
    hasGame: false,
  },
  'base-multiplication': {
    title: 'Умножение от базы',
    lead:
      'Осваиваем технику умножения от ближайшей базы (10, 50, 100). Это мощный инструмент олимпиадного и ментального счёта.',
    notes: [
      'Разбираем применение приёмов на практических примерах',
      'Сначала работаем с визуальными подсказками, затем уходим в чистый устный счёт',
      'Помогает значительно ускорить вычисления с большими числами',
    ],
    hasGame: false,
  },
  tricks: {
    title: 'Хитрости',
    lead:
      'Собираем математические лайфхаки: сокращения, нестандартные разложения, быстрые способы подсчёта процентов и скидок.',
    notes: [
      'Каждый приём сопровождается игровой практикой',
      'Сценарии, близкие к реальной жизни',
      'Тренируем нестандартное мышление и гибкость',
    ],
    hasGame: false,
  },
  squares: {
    title: 'Квадраты',
    lead:
      'Запоминаем квадраты чисел и учимся находить их моментально. Пригодится для дальнейшего изучения алгебры и подготовки к олимпиадам.',
    notes: [
      'Чередуем карточки на запоминание и практику',
      'Усиливаем навыки быстрого возведения в квадрат',
      'Появляются подсказки и приёмы для больших чисел',
    ],
    hasGame: false,
  },
  flashcards: {
    title: 'Флэшкарты',
    lead:
      'Серия визуальных карточек с числами и ответами. Развивает скорость реакции, укрепляет память и отлично подходит для микротренировок.',
    notes: [
      'Можно тренироваться самостоятельно или с родителями',
      'Вариативная сложность: от простых примеров до комплексных',
      'Формат легко использовать на занятиях и дома',
    ],
    hasGame: false,
  },
} as const;

type TrainerKey = keyof typeof TRAINERS;

export default function MentalArithmeticTrainerPage() {
  const params = useParams<{ slug: TrainerKey }>();
  const slug = params?.slug;
  const trainer = slug ? TRAINERS[slug] : undefined;

  return (
    <div className={styles.page}>
      <Navbar />

      <main className={styles.main}>
        <div className={styles.topBar}>
          <Link href="/trainers/mental-arithmetic" className={styles.backLink}>
            ← Назад к тренажерам
          </Link>
        </div>

        {trainer ? (
          <>
            <header className={styles.header}>
              <span className={styles.badge}>Программа «Ментальная арифметика»</span>
              <h1>{trainer.title}</h1>
              <p className={styles.lead}>{trainer.lead}</p>
            </header>

            <section className={styles.card}>
              <h2>Что внутри</h2>
              <p>Этот тренажёр откроется совсем скоро. Уже сейчас мы подготовили ключевые элементы программы:</p>
              <ul>
                {trainer.notes.map((item) => (
                  <li key={item}>{item}</li>
                ))}
              </ul>
              <Link href="/trainers" className={styles.cta}>
                Смотреть другие направления
              </Link>
            </section>
          </>
        ) : (
          <section className={styles.card}>
            <h2>Тренажёр временно недоступен</h2>
            <p>Похоже, вы перешли по неизвестной ссылке. Вернитесь к списку тренажёров и выберите режим заново.</p>
            <Link href="/trainers/mental-arithmetic" className={styles.cta}>
              К списку тренажёров
            </Link>
          </section>
        )}
      </main>

      <Footer />
    </div>
  );
}
