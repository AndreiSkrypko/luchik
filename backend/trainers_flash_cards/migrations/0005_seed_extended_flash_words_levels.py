# Generated by Django 4.2.7 on 2025-11-13 05:33

from django.db import migrations

DEFAULT_ACCENT = "#FF9F68"

DECKS = [
    {
        "slug": "flash-words-level-1",
        "title": "а, у, о, м, с (1) — 11 слов(а)",
        "description": "Комбинации букв а, у, о, м, с для тренировки памяти.",
        "words": [
            "ас",
            "ам",
            "ум",
            "ус",
            "ос",
            "ом",
            "ма",
            "со",
            "су",
            "му",
            "са",
        ],
    },
    {
        "slug": "flash-words-level-2",
        "title": "а, у, о, с, ш (1) — 12 слов(а)",
        "description": "Комбинации букв а, у, о, с, ш.",
        "words": [
            "уш",
            "аш",
            "ош",
            "шо",
            "шу",
            "ша",
            "су",
            "ус",
            "са",
            "ас",
            "со",
            "ош",
        ],
    },
    {
        "slug": "flash-words-level-3",
        "title": "а, о, у, м, с, ш (2) — 12 слов(а)",
        "description": "Комбинации букв а, о, у, м, с, ш со слогами.",
        "words": [
            "Са-ша",
            "су-ша",
            "Ма-ша",
            "шум",
            "са-ма",
            "ма-ма",
            "му-ха",
            "мох",
            "сом",
            "оса",
            "Шу-ра",
            "шар",
        ],
    },
    {
        "slug": "flash-words-level-4",
        "title": "а, у, о, м, с, р, ш, ы (1) — 12 слов(а)",
        "description": "Комбинации букв а, у, о, м, с, р, ш, ы.",
        "words": [
            "о-са",
            "шар",
            "ра-ма",
            "сом",
            "о-сы",
            "ша-ры",
            "ра-мы",
            "со-мы",
            "у-сы",
            "сы-ры",
            "хо-ры",
            "ра-мы",
        ],
    },
    {
        "slug": "flash-words-set-1",
        "title": "Набор 1 (4 буквы) — 15 слов(а)",
        "description": "Подборка коротких слов из четырёх букв.",
        "words": [
            "День",
            "Груз",
            "Туча",
            "Печь",
            "Мыло",
            "Шило",
            "Рама",
            "Очки",
            "Аист",
            "Мост",
            "Небо",
            "Крот",
            "Лифт",
            "Соль",
            "Волк",
        ],
    },
    {
        "slug": "flash-words-set-2",
        "title": "Набор 2 (3 буквы) — 15 слов(а)",
        "description": "Подборка коротких слов из трёх букв.",
        "words": [
            "Лес",
            "Мак",
            "Дым",
            "Сок",
            "Рак",
            "Пар",
            "Мяч",
            "Бак",
            "Зуб",
            "Дуб",
            "Дом",
            "Лак",
            "Чек",
            "Лук",
            "Пёс",
        ],
    },
    {
        "slug": "flash-words-set-3",
        "title": "Набор 3 (5 букв) — 15 слов(а)",
        "description": "Подборка слов из пяти букв.",
        "words": [
            "буква",
            "маска",
            "лента",
            "майка",
            "рейка",
            "башня",
            "леска",
            "пушка",
            "рыбка",
            "дождь",
            "крыша",
            "полка",
            "зайка",
            "мишка",
            "белка",
        ],
    },
    {
        "slug": "flash-words-set-4",
        "title": "Набор 4 (3 буквы) — 15 слов(а)",
        "description": "Подборка коротких слов из трёх букв.",
        "words": [
            "рот",
            "бык",
            "имя",
            "май",
            "бой",
            "лес",
            "ива",
            "лук",
            "тир",
            "мох",
            "пол",
            "ухо",
            "фон",
            "кит",
            "шеф",
        ],
    },
    {
        "slug": "flash-words-set-5",
        "title": "Набор 5 (4 буквы) — 15 слов(а)",
        "description": "Подборка слов из четырёх букв.",
        "words": [
            "диск",
            "звук",
            "рука",
            "пена",
            "клён",
            "метр",
            "пуща",
            "ясли",
            "узел",
            "рысь",
            "дыня",
            "игра",
            "лиса",
            "флот",
            "зубр",
        ],
    },
    {
        "slug": "flash-words-colors",
        "title": "Цвета — 15 слов(а)",
        "description": "Цвета и оттенки для запоминания.",
        "words": [
            "синий",
            "красный",
            "желтый",
            "оранжевый",
            "фиолетовый",
            "чёрный",
            "коричневый",
            "бирюзовый",
            "розовый",
            "белый",
            "голубой",
            "салатовый",
            "горчичный",
            "пудровый",
            "зелёный",
        ],
    },
    {
        "slug": "flash-words-verbs",
        "title": "Глаголы — 15 слов(а)",
        "description": "Набор глаголов для тренировки памяти.",
        "words": [
            "бежать",
            "танцевать",
            "вязать",
            "сидеть",
            "прыгать",
            "пахать",
            "учить",
            "прятать",
            "писать",
            "считать",
            "идти",
            "нести",
            "рвать",
            "собирать",
            "помогать",
        ],
    },
    {
        "slug": "flash-words-items",
        "title": "Предметы — 15 слов(а)",
        "description": "Предметы и вещи из повседневной жизни.",
        "words": [
            "бампер",
            "поезд",
            "картина",
            "стул",
            "стол",
            "телевизор",
            "ручка",
            "карандаш",
            "сено",
            "рюкзак",
            "машина",
            "колесо",
            "книга",
            "пенал",
            "доска",
        ],
    },
    {
        "slug": "flash-words-new-year",
        "title": "Новый год — 15 слов(а)",
        "description": "Слова к теме Нового года.",
        "words": [
            "декабрь",
            "январь",
            "подарки",
            "ёлка",
            "маскарад",
            "чудо",
            "сюрприз",
            "каникулы",
            "Санта",
            "письмо",
            "огоньки",
            "звезда",
            "шары",
            "свеча",
            "Снегурочка",
        ],
    },
    {
        "slug": "flash-words-level-5",
        "title": "а, у, о, м, с (2) — 15 слов(а)",
        "description": "Комбинации букв а, у, о, м, с уровня 2.",
        "words": [
            "ма",
            "са",
            "му",
            "со",
            "мо",
            "ас",
            "ум",
            "су",
            "ам",
            "о",
            "ос",
            "ма-ма",
            "са-ма",
            "о-са",
            "сом",
        ],
    },
    {
        "slug": "flash-words-level-6",
        "title": "а, у, о, м, с, х (2) — 15 слов(а)",
        "description": "Комбинации букв а, у, о, м, с, х уровня 2.",
        "words": [
            "хо",
            "ха",
            "со",
            "са",
            "мо",
            "сом",
            "сам",
            "мох",
            "у-ха",
            "у-хо",
            "ма-ма",
            "му-ха",
            "су-хо",
            "са-ма",
            "су-ха",
        ],
    },
    {
        "slug": "flash-words-level-7",
        "title": "а, у, о, м, с, х, р (2) — 15 слов(а)",
        "description": "Комбинации букв а, у, о, м, с, х, р уровня 2.",
        "words": [
            "ра-ма",
            "ро-са",
            "Ма-ра",
            "Ро-ма",
            "Му-ра",
            "у-ха",
            "у-хо",
            "ма-ма",
            "му-ха",
            "су-хо",
            "са-ма",
            "су-ха",
            "сом",
            "сам",
            "мох",
        ],
    },
    {
        "slug": "flash-words-level-8",
        "title": "а, у, о, м, с, х (1) — 18 слов(а)",
        "description": "Комбинации букв а, у, о, м, с, х уровня 1.",
        "words": [
            "ам",
            "ос",
            "ум",
            "ас",
            "ом",
            "ус",
            "ох",
            "ах",
            "ух",
            "ма",
            "со",
            "са",
            "му",
            "мо",
            "су",
            "хо",
            "ху",
            "ха",
        ],
    },
    {
        "slug": "flash-words-level-9",
        "title": "а, у, о, м, с, х, р (1) — 18 слов(а)",
        "description": "Комбинации букв а, у, о, м, с, х, р уровня 1.",
        "words": [
            "ар",
            "ур",
            "ро",
            "ра",
            "ру",
            "ор",
            "хо",
            "ох",
            "са",
            "ас",
            "ма",
            "ам",
            "уа",
            "ау",
            "ух",
            "ху",
            "ах",
            "ха",
        ],
    },
    {
        "slug": "flash-words-winter",
        "title": "Зима — 20 слов(а)",
        "description": "Слова на зимнюю тему.",
        "words": [
            "снег",
            "мороз",
            "льдина",
            "санки",
            "лыжи",
            "коньки",
            "шуба",
            "холод",
            "варежки",
            "салазки",
            "январь",
            "февраль",
            "декабрь",
            "шапка",
            "сугроб",
            "лыжня",
            "шарф",
            "сосулька",
            "валенки",
            "снежинка",
        ],
    },
    {
        "slug": "flash-words-summer",
        "title": "Лето — 20 слов(а)",
        "description": "Слова на летнюю тему.",
        "words": [
            "море",
            "жара",
            "купальник",
            "велосипед",
            "сандали",
            "панама",
            "трава",
            "шорты",
            "июль",
            "июнь",
            "август",
            "кепка",
            "каникулы",
            "лодка",
            "гроза",
            "солнце",
            "ролики",
            "палатка",
            "поход",
            "рыбалка",
        ],
    },
    {
        "slug": "flash-words-level-10",
        "title": "а, у, о, м, с, х, р, ш (2) — 20 слов(а)",
        "description": "Комбинации букв а, у, о, м, с, х, р, ш уровня 2.",
        "words": [
            "ра-ма",
            "ро-са",
            "Ма-ра",
            "Ро-ма",
            "Му-ра",
            "у-ха",
            "у-хо",
            "ма-ма",
            "му-ха",
            "су-хо",
            "са-ма",
            "су-ха",
            "сом",
            "сам",
            "мох",
            "Са-ша",
            "су-ша",
            "Ма-ша",
            "шар",
            "шум",
        ],
    },
    {
        "slug": "flash-words-grade-1",
        "title": "Словарные слова 1 класс — 21 слов(а)",
        "description": "Слова из словарного минимума 1 класса.",
        "words": [
            "весело",
            "воробей",
            "ворона",
            "девочка",
            "дежурный",
            "деревня",
            "заяц",
            "карандаш",
            "класс",
            "корова",
            "лисица",
            "мальчик",
            "машина",
            "медведь",
            "молоко",
            "пальто",
            "пенал",
            "петух",
            "работа",
            "ребята",
            "собака",
        ],
    },
    {
        "slug": "flash-words-level-11",
        "title": "а, у, о, м, с, ш, ы (1) — 23 слов(а)",
        "description": "Комбинации букв а, у, о, м, с, ш, ы уровня 1.",
        "words": [
            "сы",
            "мы",
            "ры",
            "ыр",
            "ым",
            "ыс",
            "со",
            "ос",
            "са",
            "ас",
            "ам",
            "ма",
            "му",
            "ум",
            "ос",
            "ом",
            "мо",
            "шо",
            "ош",
            "ша",
            "аш",
            "шу",
            "уш",
        ],
    },
    {
        "slug": "flash-words-level-12",
        "title": "а, у, о, м, с, х, р, ш (1) — 32 слов(а)",
        "description": "Комбинации букв а, у, о, м, с, х, р, ш уровня 1.",
        "words": [
            "уш",
            "аш",
            "ош",
            "шо",
            "шу",
            "ша",
            "са",
            "ас",
            "со",
            "ос",
            "су",
            "ус",
            "ма",
            "ам",
            "му",
            "ум",
            "мо",
            "ом",
            "ау",
            "уа",
            "ох",
            "хо",
            "ах",
            "ха",
            "ух",
            "ху",
            "ур",
            "ру",
            "ор",
            "ро",
            "ар",
            "ра",
        ],
    },
    {
        "slug": "flash-words-grade-2",
        "title": "Словарные слова 2 класс — 43 слов(а)",
        "description": "Слова из словарного минимума 2 класса.",
        "words": [
            "Беларусь",
            "белорусский",
            "берёза",
            "вагон",
            "воробей",
            "ворона",
            "воскресенье",
            "вчера",
            "город",
            "дежурный",
            "декабрь",
            "дорога",
            "зарядка",
            "заяц",
            "каникулы",
            "карандаш",
            "класс",
            "комната",
            "конечно",
            "корова",
            "магазин",
            "маленький",
            "месяц",
            "молоко",
            "морковь",
            "мороз",
            "ноябрь",
            "огород",
            "октябрь",
            "погода",
            "помидор",
            "портфель",
            "ребята",
            "Родина",
            "сахар",
            "сентябрь",
            "соловей",
            "сорока",
            "учитель",
            "хорошо",
            "яблоко",
            "ягода",
            "язык",
        ],
    },
    {
        "slug": "flash-words-grade-4",
        "title": "Словарные слова 4 класс — 44 слов(а)",
        "description": "Слова из словарного минимума 4 класса.",
        "words": [
            "автомобиль",
            "аккуратно",
            "асфальт",
            "библиотека",
            "билет",
            "велосипед",
            "государство",
            "грамота",
            "директор",
            "завтра",
            "интересный",
            "карман",
            "килограмм",
            "компьютер",
            "лагерь",
            "налево",
            "направо",
            "обратно",
            "однажды",
            "океан",
            "олень",
            "охота",
            "пирог",
            "планета",
            "почтальон",
            "пуговица",
            "путешественник",
            "ракета",
            "ребёнок",
            "сверкать",
            "сиять",
            "спасибо",
            "спектакль",
            "стадион",
            "страница",
            "счастливый",
            "тарелка",
            "телевизор",
            "теннис",
            "троллейбус",
            "фонарь",
            "чемпион",
            "шоколад",
            "юность",
        ],
    },
    {
        "slug": "flash-words-grade-3",
        "title": "Словарные слова 3 класс — 51 слов(а)",
        "description": "Слова из словарного минимума 3 класса.",
        "words": [
            "Автобус",
            "аллея",
            "бассейн",
            "ботинки",
            "животное",
            "завтрак",
            "звенеть",
            "здоровый",
            "золотой",
            "извини",
            "иней",
            "календарь",
            "картина",
            "квартира",
            "километр",
            "конфета",
            "концерт",
            "корзина",
            "коридор",
            "космос",
            "костёр",
            "костюм",
            "крапива",
            "красивый",
            "кровать",
            "лестница",
            "лягушка",
            "метро",
            "можно",
            "неделя",
            "нельзя",
            "огурец",
            "пальто",
            "пожалуйста",
            "посуда",
            "праздник",
            "предмет",
            "прекрасный",
            "прийти",
            "природа",
            "рисовать",
            "рябина",
            "сегодня",
            "сейчас",
            "театр",
            "теперь",
            "трамвай",
            "футбол",
            "хоккей",
            "человек",
            "чувство",
        ],
    },
]


def seed_flash_words_decks(apps, schema_editor):
    Trainer = apps.get_model("trainers", "Trainer")
    Deck = apps.get_model("trainers_flash_cards", "FlashCardDeck")
    Card = apps.get_model("trainers_flash_cards", "FlashCard")

    trainer = Trainer.objects.filter(slug="flash-words").first()
    if trainer is None:
        return

    for order, deck_data in enumerate(DECKS, start=1):
        deck_defaults = {
            "trainer": trainer,
            "title": deck_data["title"],
            "description": deck_data.get("description", ""),
            "accent_color": deck_data.get("accent_color", DEFAULT_ACCENT),
            "order": order,
            "is_active": True,
        }
        deck, _ = Deck.objects.update_or_create(slug=deck_data["slug"], defaults=deck_defaults)

        words = deck_data["words"]
        preserved_ids = []
        for index, word in enumerate(words, start=1):
            card, _ = Card.objects.update_or_create(
                deck=deck,
                front_text=word,
                defaults={
                    "back_text": word,
                    "hint": "",
                    "order": index,
                    "is_active": True,
                },
            )
            preserved_ids.append(card.id)

        Card.objects.filter(deck=deck).exclude(id__in=preserved_ids).delete()


def unseed_flash_words_decks(apps, schema_editor):
    Deck = apps.get_model("trainers_flash_cards", "FlashCardDeck")
    Card = apps.get_model("trainers_flash_cards", "FlashCard")

    primary = DECKS[0]
    primary_deck = Deck.objects.filter(slug=primary["slug"]).first()
    if primary_deck:
        words = primary["words"]
        preserved_ids = []
        for index, word in enumerate(words, start=1):
            card, _ = Card.objects.update_or_create(
                deck=primary_deck,
                front_text=word,
                defaults={
                    "back_text": word,
                    "hint": "",
                    "order": index,
                    "is_active": True,
                },
            )
            preserved_ids.append(card.id)
        Card.objects.filter(deck=primary_deck).exclude(id__in=preserved_ids).delete()
        primary_deck.title = primary["title"]
        primary_deck.description = primary.get("description", "")
        primary_deck.order = 1
        primary_deck.is_active = True
        primary_deck.save(update_fields=["title", "description", "order", "is_active"])

    for deck_data in DECKS[1:]:
        Deck.objects.filter(slug=deck_data["slug"]).delete()


class Migration(migrations.Migration):

    dependencies = [
        ("trainers_flash_cards", "0004_assign_trainers_to_decks"),
    ]

    operations = [
        migrations.RunPython(seed_flash_words_decks, unseed_flash_words_decks),
    ]
